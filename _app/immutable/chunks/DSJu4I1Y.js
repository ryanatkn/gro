import{u as O,h as A,e as y,E as L,v as B,w as D,x as N,n as m,y as T,z as M,A as Y,P as x,B as h,D as w,F,g as z,G as C,I as G,J as U,K as $,L as q,M as H,N as J,O as K,S as Q,Q as Z}from"./OozpsuF9.js";import{B as j}from"./CGgGrM5g.js";function k(e,n,_=!1){A&&y();var t=new j(e),u=_?L:0;function c(r,i){if(A){const f=B(e)===D;if(r===f){var s=N();m(s),t.anchor=s,T(!1),t.ensure(r,i),T(!0);return}}t.ensure(r,i)}O(()=>{var r=!1;n((i,s=!0)=>{r=!0,c(s,i)}),r||c(!1,null)},u)}let S=!1;function V(e){var n=S;try{return S=!1,[e(),S]}finally{S=n}}function p(e,n,_,t){var u=(_&$)!==0,c=(_&J)!==0,r=t,i=!0,s=()=>(i&&(i=!1,r=c?q(t):t),r),f;if(u){var b=Q in e||Z in e;f=M(e,n)?.set??(b&&n in e?a=>e[n]=a:void 0)}var d,E=!1;u?[d,E]=V(()=>e[n]):d=e[n],d===void 0&&t!==void 0&&(d=s(),f&&(Y(),f(d)));var v;if(v=()=>{var a=e[n];return a===void 0?s():(i=!0,a)},(_&x)===0)return v;if(f){var I=e.$$legacy;return(function(a,o){return arguments.length>0?((!o||I||E)&&f(o?v():a),a):v()})}var g=!1,l=((_&H)!==0?G:U)(()=>(g=!1,v()));u&&h(l);var R=z;return(function(a,o){if(arguments.length>0){const P=o?h(l):u?w(a):a;return F(l,P),g=!0,r!==void 0&&(r=P),a}return K&&g||(R.f&C)!==0?l.v:h(l)})}export{k as i,p};
